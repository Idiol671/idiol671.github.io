<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script
      type="module"
      src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    <title>–ú–æ–¥–µ–ª—å</title>

    <style>
      :root {
        color-scheme: dark;
        font-family: "Inter", "Segoe UI", system-ui, -apple-system, sans-serif;
        background-color: #050608;
        color: #f4f5f7;
      }

      body {
        margin: 0;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 24px;
        padding: 24px;
        position: relative;
      }

      h1 {
        font-size: clamp(1.5rem, 3vw, 2.5rem);
        margin: 0;
        text-align: center;
      }

      #camera-wrapper {
        position: relative;
        width: min(90vw, 640px);
        aspect-ratio: 3 / 4;
        border-radius: 24px;
        overflow: hidden;
        background: #0d0f14;
        box-shadow: 0 20px 60px rgba(6, 9, 20, 0.55);
      }

      video {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        z-index: 0;
        filter: saturate(1.1) contrast(1.05);
      }

      model-viewer {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
        z-index: 1;
        background: transparent;
        --poster-color: transparent;
        pointer-events: none;
        opacity: 0;
        transition: opacity 1.5s cubic-bezier(0.4, 0, 0.2, 1);
      }

      model-viewer.visible {
        opacity: 1;
      }

      model-viewer.interactive {
        pointer-events: auto;
        cursor: grab;
      }

      model-viewer.interactive:active {
        cursor: grabbing;
      }

      model-viewer::part(default-ar-button) {
        pointer-events: auto;
        position: absolute;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-radius: 50px;
        padding: 14px 32px;
        border: none;
        color: white;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        z-index: 10;
        min-width: 200px;
        text-align: center;
        font-family: inherit;
        transition: opacity 1s ease 2s, visibility 1s ease 2s,
          transform 0.3s ease;
        opacity: 0;
        visibility: hidden;
      }

      model-viewer.visible::part(default-ar-button) {
        opacity: 1;
        visibility: visible;
      }

      model-viewer::part(default-exit-webxr-ar-button) {
        display: none;
      }

      model-viewer::part(default-ar-button):hover {
        transform: translateX(-50%) translateY(-2px);
        box-shadow: 0 15px 30px rgba(102, 126, 234, 0.4);
      }

      model-viewer::part(default-ar-button):active {
        transform: translateX(-50%) translateY(0);
      }

      model-viewer::part(default-ar-button):focus {
        outline: 2px solid rgba(102, 126, 234, 0.5);
        outline-offset: 2px;
      }

      .filter-click-area {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
        z-index: 3;
        cursor: pointer;
      }

      .filter-click-area.disabled {
        display: none;
      }

      /* –°—Ç–∏–ª–∏ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∞ —Ç–∞—è–Ω–∏—è –ª—å–¥–∞ */
      .ice-overlay-container {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
        z-index: 2;
        pointer-events: none;
      }

      .ice-overlay {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        mix-blend-mode: screen;
        transition: opacity 2.5s cubic-bezier(0.4, 0, 0.2, 1),
          filter 3s cubic-bezier(0.4, 0, 0.2, 1),
          transform 3s cubic-bezier(0.4, 0, 0.2, 1);
        opacity: 0;
        filter: brightness(1.2) contrast(1.2);
        transform: scale(1);
      }

      .ice-overlay.active {
        opacity: 1;
        filter: brightness(1) contrast(1);
        animation: iceGlow 3s ease-in-out infinite alternate;
      }

      .ice-overlay.melting {
        opacity: 0.7;
        filter: brightness(1.5) contrast(0.8) blur(2px);
        transform: scale(1.02);
        animation: iceMelt 4s forwards;
      }

      @keyframes iceGlow {
        0% {
          filter: brightness(1) contrast(1)
            drop-shadow(0 0 5px rgba(173, 216, 230, 0.3));
        }
        100% {
          filter: brightness(1.1) contrast(1.1)
            drop-shadow(0 0 15px rgba(173, 216, 230, 0.5));
        }
      }

      @keyframes iceMelt {
        0% {
          opacity: 1;
          filter: brightness(1) contrast(1) blur(0);
          transform: scale(1);
        }
        20% {
          opacity: 0.9;
          filter: brightness(1.3) contrast(0.9) blur(1px);
        }
        40% {
          opacity: 0.7;
          filter: brightness(1.5) contrast(0.8) blur(2px);
          transform: scale(1.01);
        }
        60% {
          opacity: 0.5;
          filter: brightness(1.8) contrast(0.7) blur(3px);
          transform: scale(1.02);
        }
        80% {
          opacity: 0.3;
          filter: brightness(2) contrast(0.6) blur(4px);
          transform: scale(1.03);
        }
        100% {
          opacity: 0;
          filter: brightness(2.5) contrast(0.5) blur(5px);
          transform: scale(1.05);
        }
      }

      /* –≠—Ñ—Ñ–µ–∫—Ç —Å–Ω–µ–∂–∏–Ω–æ–∫ */
      .snowflakes {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 2;
        opacity: 0;
        transition: opacity 1s ease;
      }

      .snowflakes.active {
        opacity: 1;
      }

      .snowflake {
        position: absolute;
        background: rgba(255, 255, 255, 0.8);
        border-radius: 50%;
        filter: blur(0.5px);
        animation: fall linear infinite;
      }

      @keyframes fall {
        to {
          transform: translateY(100vh);
        }
      }

      button {
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 999px;
        padding: 10px 24px;
        background: transparent;
        color: inherit;
        font-size: 0.95rem;
        cursor: pointer;
        transition: border-color 0.2s ease, color 0.2s ease,
          background 0.2s ease;
      }

      button:hover {
        border-color: rgba(255, 255, 255, 0.5);
        background: rgba(255, 255, 255, 0.05);
      }

      /* –°—Ç–∏–ª–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ */
      .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(5, 6, 8, 0.95);
        backdrop-filter: blur(10px);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 1000;
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .modal-overlay.show {
        display: flex;
        opacity: 1;
      }

      .modal-content {
        background: linear-gradient(145deg, #0d0f14, #151821);
        border-radius: 24px;
        padding: 40px;
        width: min(90%, 380px);
        text-align: center;
        box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
        border: 1px solid rgba(255, 255, 255, 0.1);
        transform: translateY(20px);
        transition: transform 0.3s ease;
      }

      .modal-overlay.show .modal-content {
        transform: translateY(0);
      }

      .modal-icon {
        font-size: 64px;
        margin-bottom: 20px;
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.1);
        }
        100% {
          transform: scale(1);
        }
      }

      .modal-title {
        font-size: 1.8rem;
        margin-bottom: 16px;
        color: #fff;
        font-weight: 600;
      }

      .modal-message {
        font-size: 1.1rem;
        color: #a1acc8;
        margin-bottom: 30px;
        line-height: 1.5;
      }

      .modal-button {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border: none;
        color: white;
        padding: 14px 32px;
        border-radius: 50px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        width: 100%;
      }

      .modal-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 15px 30px rgba(102, 126, 234, 0.4);
      }

      .modal-button:active {
        transform: translateY(0);
      }

      .filter-indicator {
        font-size: 1rem;
        color: #4fc3f7;
        margin-top: 8px;
        text-align: center;
        height: 24px;
        transition: all 0.5s ease;
      }

      .model-unlocked-message {
        font-size: 0.9rem;
        color: #81c784;
        margin-top: 4px;
        text-align: center;
        height: 20px;
        font-style: italic;
        display: none;
        opacity: 0;
        transform: translateY(10px);
        animation: slideUp 0.5s ease 1.5s forwards;
      }

      @keyframes slideUp {
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* –°—Ç–∏–ª–∏ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∞–≤—Ç–æ-–Ω–∞–∂–∞—Ç–∏–∏ AR */
      .auto-ar-notification {
        position: fixed;
        top: 20px;
        left: 50%;
        transform: translateX(-50%) translateY(-100px);
        background: linear-gradient(135deg, #4caf50 0%, #2e7d32 100%);
        color: white;
        padding: 15px 30px;
        border-radius: 50px;
        font-weight: 600;
        z-index: 2000;
        box-shadow: 0 10px 25px rgba(76, 175, 80, 0.3);
        transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        text-align: center;
        min-width: 300px;
        max-width: 90%;
        opacity: 0;
        animation: fadeIn 0.5s ease 3s forwards;
      }

      @keyframes fadeIn {
        to {
          opacity: 1;
        }
      }

      .auto-ar-notification.show {
        transform: translateX(-50%) translateY(0);
      }

      .loading-progress {
        position: absolute;
        bottom: 80px;
        left: 50%;
        transform: translateX(-50%);
        width: 200px;
        height: 4px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 2px;
        overflow: hidden;
        z-index: 5;
        opacity: 0;
        transition: opacity 0.5s ease;
      }

      .loading-progress.active {
        opacity: 1;
      }

      .loading-progress-bar {
        height: 100%;
        background: linear-gradient(90deg, #4fc3f7, #667eea);
        width: 0%;
        border-radius: 2px;
        transition: width 0.3s ease;
      }

      .ice-crack {
        position: absolute;
        inset: 0;
        background-image: radial-gradient(
            circle at 20% 30%,
            transparent 10px,
            rgba(255, 255, 255, 0.1) 11px,
            transparent 12px
          ),
          radial-gradient(
            circle at 70% 40%,
            transparent 8px,
            rgba(255, 255, 255, 0.1) 9px,
            transparent 10px
          ),
          radial-gradient(
            circle at 40% 70%,
            transparent 6px,
            rgba(255, 255, 255, 0.1) 7px,
            transparent 8px
          );
        opacity: 0;
        z-index: 2;
        pointer-events: none;
        transition: opacity 2s ease;
      }

      .ice-crack.active {
        opacity: 0.3;
        animation: crackGlow 2s ease-in-out infinite alternate;
      }

      @keyframes crackGlow {
        0% {
          opacity: 0.2;
        }
        100% {
          opacity: 0.4;
        }
      }
    </style>
  </head>

  <body>
    <h1>–ñ–∏–≤–æ–π —Ñ–∏–ª—å—Ç—Ä –¥–ª—è –∫–∞–º–µ—Ä—ã</h1>

    <div id="camera-wrapper">
      <video id="cam" autoplay playsinline muted></video>

      <model-viewer
        id="model"
        alt="3D Model"
        src="./assets/model/Horse_animation.gltf"
        camera-controls
        ar
        ar-modes="webxr scene-viewer quick-look"
        autoplay>
      </model-viewer>

      <div class="filter-click-area" id="filterClickArea"></div>

      <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –ª—å–¥–∞ -->
      <div class="ice-overlay-container">
        <div class="ice-crack" id="iceCrack"></div>
        <img class="ice-overlay active" id="filter1" src="/assets/ice-1.png" />
        <img class="ice-overlay" id="filter2" src="/assets/ice-2.png" />
        <img class="ice-overlay" id="filter3" src="/assets/ice-4.png" />
      </div>

      <!-- –≠—Ñ—Ñ–µ–∫—Ç —Å–Ω–µ–∂–∏–Ω–æ–∫ -->
      <div class="snowflakes" id="snowflakes"></div>

      <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ -->
      <div class="loading-progress" id="loadingProgress">
        <div class="loading-progress-bar" id="loadingProgressBar"></div>
      </div>
    </div>

    <div class="filter-indicator" id="currentFilterText">–§–∏–ª—å—Ç—Ä: Ice 1</div>
    <div class="model-unlocked-message" id="modelUnlockedMessage">
      ‚úì –ú–æ–¥–µ–ª—å —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
    </div>

    <button id="refresh">–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–∞–º–µ—Ä—É</button>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –∞–≤—Ç–æ-–Ω–∞–∂–∞—Ç–∏–∏ AR -->
    <div class="auto-ar-notification" id="autoArNotification">
      <div>üéâ –§–∏–Ω–∞–ª—å–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω!</div>
      <div style="font-size: 0.9em; opacity: 0.9">
        –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ AR... –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏—Ç–µ
      </div>
    </div>

    <div class="modal-overlay" id="arExitModal">
      <div class="modal-content">
        <div class="modal-icon">‚ú®</div>
        <h2 class="modal-title">AR-—Å–µ—Å—Å–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞</h2>
        <p class="modal-message">
          –í—ã –≤–µ—Ä–Ω—É–ª–∏—Å—å –∏–∑ —Ä–µ–∂–∏–º–∞ –¥–æ–ø–æ–ª–Ω–µ–Ω–Ω–æ–π —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏. –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ
          –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã!
        </p>

        <button class="modal-button" id="closeModalBtn">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
      </div>
    </div>

    <script>
      const video = document.getElementById("cam");
      const cameraWrapper = document.getElementById("camera-wrapper");
      const filter1 = document.getElementById("filter1");
      const filter2 = document.getElementById("filter2");
      const filter3 = document.getElementById("filter3");
      const iceCrack = document.getElementById("iceCrack");
      const snowflakes = document.getElementById("snowflakes");
      const filterClickArea = document.getElementById("filterClickArea");
      const modelViewer = document.getElementById("model");
      const currentFilterText = document.getElementById("currentFilterText");
      const modelUnlockedMessage = document.getElementById(
        "modelUnlockedMessage"
      );
      const arExitModal = document.getElementById("arExitModal");
      const closeModalBtn = document.getElementById("closeModalBtn");
      const autoArNotification = document.getElementById("autoArNotification");
      const loadingProgress = document.getElementById("loadingProgress");
      const loadingProgressBar = document.getElementById("loadingProgressBar");
      let currentStream;

      const filters = [filter1, filter2, filter3];
      const filterNames = ["Ice 1", "Ice 2", "Ice 4"];
      let currentFilterIndex = 0;

      // –ü—Ä–æ—Å—Ç–æ–π —Ñ–ª–∞–≥ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è AR
      let wasInAR = false;
      let arModalTimer = null;
      let autoArTriggered = false; // –§–ª–∞–≥ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∞–≤—Ç–æ-–Ω–∞–∂–∞—Ç–∏—è AR
      let isMelting = false; // –§–ª–∞–≥ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∞ —Ç–∞—è–Ω–∏—è

      async function initCamera() {
        if (currentStream) {
          currentStream.getTracks().forEach((track) => track.stop());
        }

        try {
          let stream;
          try {
            stream = await navigator.mediaDevices.getUserMedia({
              video: {facingMode: {exact: "environment"}},
              audio: false,
            });
          } catch {
            stream = await navigator.mediaDevices.getUserMedia({
              video: {facingMode: "environment"},
              audio: false,
            });
          }

          currentStream = stream;
          video.srcObject = stream;
        } catch (err) {
          console.error("–û—à–∏–±–∫–∞ –∫–∞–º–µ—Ä—ã:", err);
        }
      }

      function createSnowflakes() {
        snowflakes.innerHTML = "";
        for (let i = 0; i < 30; i++) {
          const snowflake = document.createElement("div");
          snowflake.className = "snowflake";

          // –°–ª—É—á–∞–π–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
          const size = Math.random() * 4 + 2;
          const left = Math.random() * 100;
          const duration = Math.random() * 10 + 10;
          const delay = Math.random() * 5;

          snowflake.style.width = `${size}px`;
          snowflake.style.height = `${size}px`;
          snowflake.style.left = `${left}%`;
          snowflake.style.animationDuration = `${duration}s`;
          snowflake.style.animationDelay = `${delay}s`;

          snowflakes.appendChild(snowflake);
        }
      }

      function changeFilter() {
        if (isMelting) return; // –ï—Å–ª–∏ —É–∂–µ –∏–¥–µ—Ç —Ç–∞—è–Ω–∏–µ, –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∫–ª–∏–∫–∏

        // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Å —Ç–µ–∫—É—â–µ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞
        filters[currentFilterIndex].classList.remove("active");

        // –î–æ–±–∞–≤–ª—è–µ–º —ç—Ñ—Ñ–µ–∫—Ç —Ç—Ä–µ—â–∏–Ω –¥–ª—è –≤—Ç–æ—Ä–æ–≥–æ –∏ —Ç—Ä–µ—Ç—å–µ–≥–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤
        if (currentFilterIndex > 0) {
          iceCrack.classList.add("active");
        }

        // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –∏–Ω–¥–µ–∫—Å
        currentFilterIndex++;

        // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –Ω–æ–≤–æ–º—É —Ñ–∏–ª—å—Ç—Ä—É
        filters[currentFilterIndex].classList.add("active");

        // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç —Å —Ç–µ–∫—É—â–∏–º —Ñ–∏–ª—å—Ç—Ä–æ–º
        currentFilterText.textContent = `–§–∏–ª—å—Ç—Ä: ${filterNames[currentFilterIndex]}`;
        currentFilterText.style.color =
          currentFilterIndex === 2 ? "#81c784" : "#4fc3f7";

        console.log(
          `–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–æ –Ω–∞ —Ñ–∏–ª—å—Ç—Ä: ${filterNames[currentFilterIndex]}`
        );

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –¥–æ—Å—Ç–∏–≥–ª–∏ –ª–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞ (Ice-4)
        if (currentFilterIndex === filters.length - 1) {
          startMeltingEffect();
        }
      }

      function startMeltingEffect() {
        isMelting = true;

        // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º —ç—Ñ—Ñ–µ–∫—Ç —Å–Ω–µ–∂–∏–Ω–æ–∫
        snowflakes.classList.add("active");
        createSnowflakes();

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
        loadingProgress.classList.add("active");

        // –°–∏–º—É–ª–∏—Ä—É–µ–º –∑–∞–≥—Ä—É–∑–∫—É –º–æ–¥–µ–ª–∏
        let progress = 0;
        const progressInterval = setInterval(() => {
          progress += Math.random() * 10;
          if (progress > 100) progress = 100;
          loadingProgressBar.style.width = `${progress}%`;

          if (progress >= 100) {
            clearInterval(progressInterval);

            // –ó–∞–ø—É—Å–∫–∞–µ–º —ç—Ñ—Ñ–µ–∫—Ç —Ç–∞—è–Ω–∏—è –ª—å–¥–∞
            setTimeout(() => {
              filters[currentFilterIndex].classList.add("melting");

              // –ü–æ—Å–ª–µ –Ω–∞—á–∞–ª–∞ —Ç–∞—è–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–µ–ª—å
              setTimeout(() => {
                unlockModel();
              }, 2000); // –ñ–¥–µ–º 2 —Å–µ–∫—É–Ω–¥—ã –ø–æ—Å–ª–µ –Ω–∞—á–∞–ª–∞ —Ç–∞—è–Ω–∏—è

              // –ü–æ—Å–ª–µ –ø–æ–ª–Ω–æ–≥–æ —Ç–∞—è–Ω–∏—è –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º AR
              setTimeout(() => {
                activateAutoAR();
                loadingProgress.classList.remove("active");
                snowflakes.classList.remove("active");
              }, 4000); // –û–±—â–µ–µ –≤—Ä–µ–º—è —Ç–∞—è–Ω–∏—è 4 —Å–µ–∫—É–Ω–¥—ã
            }, 1000); // –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ç–∞—è–Ω–∏—è
          }
        }, 200);
      }

      function unlockModel() {
        console.log(
          "–î–æ—Å—Ç–∏–≥–Ω—É—Ç —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä. –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –º–æ–¥–µ–ª—å –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è."
        );

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º 3D –º–æ–¥–µ–ª—å
        modelViewer.classList.add("visible");

        // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –º–æ–¥–µ–ª—å –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
        setTimeout(() => {
          modelViewer.classList.add("interactive");
        }, 1500); // –£–≤–µ–ª–∏—á–∏–ª–∏ –∑–∞–¥–µ—Ä–∂–∫—É –¥–ª—è –ª—É—á—à–µ–π –∞–Ω–∏–º–∞—Ü–∏–∏

        // –û—Ç–∫–ª—é—á–∞–µ–º –æ–±–ª–∞—Å—Ç—å –∫–ª–∏–∫–æ–≤ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–æ–≤
        filterClickArea.classList.add("disabled");

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–µ –º–æ–¥–µ–ª–∏
        modelUnlockedMessage.style.display = "block";
        currentFilterText.textContent = `–§–∏–ª—å—Ç—Ä: ${filterNames[currentFilterIndex]} (–§–∏–Ω–∞–ª—å–Ω—ã–π)`;

        console.log("–ú–æ–¥–µ–ª—å –∏ –∫–Ω–æ–ø–∫–∞ AR —Ç–µ–ø–µ—Ä—å –≤–∏–¥–Ω—ã");
      }

      function activateAutoAR() {
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π
        setTimeout(() => {
          autoArNotification.classList.add("show");
          autoArNotification.innerHTML = `
            <div>üéâ –≠—Ñ—Ñ–µ–∫—Ç –ª—å–¥–∞ —Ä–∞—Å—Å–µ—è–ª—Å—è!</div>
            <div style="font-size: 0.9em; opacity: 0.9;">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è AR...</div>
          `;
        }, 500);

        console.log("–ê–∫—Ç–∏–≤–∞—Ü–∏—è –∞–≤—Ç–æ-–Ω–∞–∂–∞—Ç–∏—è AR –∫–Ω–æ–ø–∫–∏...");

        // –ñ–¥–µ–º –ø–æ–∫–∞ –º–æ–¥–µ–ª—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –∏ —Å—Ç–∞–Ω–µ—Ç –≤–∏–¥–∏–º–æ–π
        setTimeout(() => {
          // –ù–∞—Ö–æ–¥–∏–º –∫–Ω–æ–ø–∫—É AR –≤–Ω—É—Ç—Ä–∏ model-viewer
          const arButton = modelViewer.shadowRoot.querySelector(".ar-button");

          if (arButton) {
            console.log("–ö–Ω–æ–ø–∫–∞ AR –Ω–∞–π–¥–µ–Ω–∞, –Ω–∞–∂–∏–º–∞–µ–º...");

            // –°–∏–º—É–ª–∏—Ä—É–µ–º –∫–ª–∏–∫ –ø–æ –∫–Ω–æ–ø–∫–µ AR
            arButton.click();

            // –î–æ–±–∞–≤–ª—è–µ–º –Ω–µ–±–æ–ª—å—à—É—é –∑–∞–¥–µ—Ä–∂–∫—É –∏ –ø—Ä–æ–±—É–µ–º –µ—â–µ —Ä–∞–∑ –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏
            setTimeout(() => {
              if (!wasInAR) {
                console.log("–ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏—è AR –∫–Ω–æ–ø–∫–∏...");
                arButton.click();
              }
            }, 1000);

            // –ü—Ä—è—á–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(() => {
              autoArNotification.classList.remove("show");
            }, 3000);

            autoArTriggered = true;
          } else {
            console.log(
              "–ö–Ω–æ–ø–∫–∞ AR –Ω–µ –Ω–∞–π–¥–µ–Ω–∞, –ø—Ä–æ–±—É–µ–º –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥..."
            );

            // –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥: –∏—Å–ø–æ–ª—å–∑—É–µ–º API model-viewer –¥–ª—è –∑–∞–ø—É—Å–∫–∞ AR
            if (modelViewer.activateAR) {
              setTimeout(() => {
                modelViewer.activateAR();
                console.log("AR –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω —á–µ—Ä–µ–∑ API activateAR()");
              }, 500);
            } else {
              console.log(
                "–ú–µ—Ç–æ–¥ activateAR –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω, –ø—Ä–æ–±—É–µ–º –Ω–∞–π—Ç–∏ –∫–Ω–æ–ø–∫—É –ø–æ–∑–∂–µ..."
              );

              // –ü—ã—Ç–∞–µ–º—Å—è –Ω–∞–π—Ç–∏ –∫–Ω–æ–ø–∫—É –µ—â–µ —Ä–∞–∑ —á–µ—Ä–µ–∑ –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è
              const retryInterval = setInterval(() => {
                const retryButton =
                  modelViewer.shadowRoot.querySelector(".ar-button");
                if (retryButton) {
                  console.log(
                    "–ö–Ω–æ–ø–∫–∞ AR –Ω–∞–π–¥–µ–Ω–∞ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø–æ–ø—ã—Ç–∫–µ, –Ω–∞–∂–∏–º–∞–µ–º..."
                  );
                  retryButton.click();
                  clearInterval(retryInterval);

                  setTimeout(() => {
                    autoArNotification.classList.remove("show");
                  }, 3000);

                  autoArTriggered = true;
                }
              }, 300);

              // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–æ–ø—ã—Ç–∫–∏ —á–µ—Ä–µ–∑ 8 —Å–µ–∫—É–Ω–¥
              setTimeout(() => {
                clearInterval(retryInterval);
                if (!autoArTriggered) {
                  console.log(
                    "–ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ –∫–Ω–æ–ø–∫—É AR, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é"
                  );
                  autoArNotification.innerHTML = `
                    <div>üéâ –ú–æ–¥–µ–ª—å –≥–æ—Ç–æ–≤–∞!</div>
                    <div style="font-size: 0.9em; opacity: 0.9;">–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ AR" –Ω–∏–∂–µ</div>
                  `;

                  setTimeout(() => {
                    autoArNotification.classList.remove("show");
                  }, 5000);
                }
              }, 8000);
            }
          }
        }, 3000); // –£–≤–µ–ª–∏—á–∏–ª–∏ –∑–∞–¥–µ—Ä–∂–∫—É –¥–æ 3 —Å–µ–∫—É–Ω–¥ –¥–ª—è –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–∏
      }

      function showExitModal() {
        console.log("–ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—ã—Ö–æ–¥–∞ –∏–∑ AR");

        // –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Ç–∞–π–º–µ—Ä
        if (arModalTimer) {
          clearTimeout(arModalTimer);
        }

        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–¥–µ—Ä–∂–∫—É –≤ 1 —Å–µ–∫—É–Ω–¥—É
        arModalTimer = setTimeout(() => {
          arExitModal.classList.add("show");
          document.body.style.overflow = "hidden";
          console.log("–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–∫–∞–∑–∞–Ω–æ");
        }, 1000);
      }

      function hideExitModal() {
        if (arModalTimer) {
          clearTimeout(arModalTimer);
          arModalTimer = null;
        }

        arExitModal.classList.remove("show");
        document.body.style.overflow = "auto";
        console.log("–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–∫—Ä—ã—Ç–æ");
      }

      // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–º–µ—Ä—ã
      initCamera();

      // –°–æ–∑–¥–∞–µ–º —Å–Ω–µ–∂–∏–Ω–∫–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
      createSnowflakes();

      // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –Ω–∞ –æ–±–ª–∞—Å—Ç—å —Ñ–∏–ª—å—Ç—Ä–æ–≤
      filterClickArea.addEventListener("click", changeFilter);

      // –ö–Ω–æ–ø–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–∞–º–µ—Ä—ã
      document.getElementById("refresh").addEventListener("click", initCamera);

      // –ö–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
      closeModalBtn.addEventListener("click", hideExitModal);

      // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø–æ –∫–ª–∏–∫—É –Ω–∞ –æ–≤–µ—Ä–ª–µ–π
      arExitModal.addEventListener("click", (e) => {
        if (e.target === arExitModal) {
          hideExitModal();
        }
      });

      // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø–æ –∫–ª–∞–≤–∏—à–µ ESC
      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape" && arExitModal.classList.contains("show")) {
          hideExitModal();
        }
      });

      // ========== –ü–†–û–°–¢–ê–Ø –ò –ù–ê–î–ï–ñ–ù–ê–Ø –õ–û–ì–ò–ö–ê –î–õ–Ø AR ==========

      // 1. –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º –∫–ª–∏–∫ –ø–æ AR –∫–Ω–æ–ø–∫–µ
      modelViewer.addEventListener("click", (e) => {
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –±—ã–ª–∞ –ª–∏ –Ω–∞–∂–∞—Ç–∞ AR –∫–Ω–æ–ø–∫–∞
        if (e.target && e.target.slot === "ar-button") {
          console.log("AR –∫–Ω–æ–ø–∫–∞ –Ω–∞–∂–∞—Ç–∞");
          wasInAR = true;
          autoArTriggered = false; // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–ª–∞–≥ –∞–≤—Ç–æ-–Ω–∞–∂–∞—Ç–∏—è
        }
      });

      // 2. –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º —Å–æ–±—ã—Ç–∏—è model-viewer
      modelViewer.addEventListener("ar-status", (event) => {
        console.log("AR —Å—Ç–∞—Ç—É—Å:", event.detail.status);

        if (event.detail.status === "session-started") {
          console.log("AR —Å–µ—Å—Å–∏—è –Ω–∞—á–∞–ª–∞—Å—å");
          wasInAR = true;
          // –ü—Ä—è—á–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –µ—Å–ª–∏ –æ–Ω–æ –µ—â–µ –≤–∏–¥–Ω–æ
          autoArNotification.classList.remove("show");
        }

        if (event.detail.status === "session-ended") {
          console.log("AR —Å–µ—Å—Å–∏—è –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å (—á–µ—Ä–µ–∑ ar-status)");
          if (wasInAR) {
            showExitModal();
            wasInAR = false;
          }
        }
      });

      // 3. –û—Å–Ω–æ–≤–Ω–æ–π —Å–ø–æ—Å–æ–±: –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º visibilitychange
      document.addEventListener("visibilitychange", () => {
        console.log("Visibility change:", document.visibilityState);

        if (document.visibilityState === "hidden") {
          // –ó–∞–ø–æ–º–∏–Ω–∞–µ–º, —á—Ç–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–∫—Ä—ã–ª–∞—Å—å (–≤–æ–∑–º–æ–∂–Ω–æ, —É—à–ª–∏ –≤ AR)
          console.log("–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–∫—Ä—ã—Ç–∞ - –≤–æ–∑–º–æ–∂–Ω–æ —É—à–ª–∏ –≤ AR");
        }

        if (document.visibilityState === "visible") {
          // –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–Ω–æ–≤–∞ –≤–∏–¥–∏–º–∞
          console.log("–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–Ω–æ–≤–∞ –≤–∏–¥–∏–º–∞");

          // –ï—Å–ª–∏ –±—ã–ª–∏ –≤ AR –∏ –≤–µ—Ä–Ω—É–ª–∏—Å—å, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª–∫—É
          if (wasInAR) {
            console.log("–í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –∏–∑ AR (visibilitychange)");
            showExitModal();
            wasInAR = false;
          }
        }
      });

      // 4. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º focus –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏
      window.addEventListener("focus", () => {
        console.log("Window –ø–æ–ª—É—á–∏–ª —Ñ–æ–∫—É—Å");

        // –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
        setTimeout(() => {
          if (wasInAR) {
            console.log("–í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –∏–∑ AR (focus)");
            showExitModal();
            wasInAR = false;
          }
        }, 300);
      });

      // 5. –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç AR —Å–µ—Å—Å–∏–∏
      window.addEventListener("message", (event) => {
        console.log("–ü–æ–ª—É—á–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ:", event.data);
        // –ù–µ–∫–æ—Ç–æ—Ä—ã–µ AR —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
      });

      // 6. –¢–∞–π–º–µ—Ä –¥–ª—è –∞–≤—Ç–æ-—Å–±—Ä–æ—Å–∞ —Ñ–ª–∞–≥–∞ (–Ω–∞ —Å–ª—É—á–∞–π –µ—Å–ª–∏ AR –Ω–µ –∑–∞–ø—É—Å—Ç–∏–ª—Å—è)
      setInterval(() => {
        if (wasInAR && document.visibilityState === "visible") {
          // –ï—Å–ª–∏ —Ñ–ª–∞–≥ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –±–æ–ª—å—à–µ 30 —Å–µ–∫—É–Ω–¥ –∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤–∏–¥–∏–º–∞, —Å–±—Ä–∞—Å—ã–≤–∞–µ–º
          wasInAR = false;
          console.log("–ê–≤—Ç–æ-—Å–±—Ä–æ—Å —Ñ–ª–∞–≥–∞ AR (—Ç–∞–π–º–∞—É—Ç)");
        }
      }, 30000);

      // 7. –ü—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–±: –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º –≤—Ä–µ–º—è —Å–∫—Ä—ã—Ç–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã
      let pageHiddenTime = null;
      document.addEventListener("visibilitychange", () => {
        if (document.visibilityState === "hidden") {
          pageHiddenTime = Date.now();
          console.log("–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–∫—Ä—ã—Ç–∞ –≤:", pageHiddenTime);
        }

        if (document.visibilityState === "visible" && pageHiddenTime) {
          const hiddenDuration = Date.now() - pageHiddenTime;
          console.log("–°—Ç—Ä–∞–Ω–∏—Ü–∞ –±—ã–ª–∞ —Å–∫—Ä—ã—Ç–∞", hiddenDuration, "–º—Å");

          // –ï—Å–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –±—ã–ª–∞ —Å–∫—Ä—ã—Ç–∞ –±–æ–ª–µ–µ 1 —Å–µ–∫—É–Ω–¥—ã, —Å—á–∏—Ç–∞–µ–º —á—Ç–æ —ç—Ç–æ –±—ã–ª–∞ AR —Å–µ—Å—Å–∏—è
          if (hiddenDuration > 1000) {
            console.log("–î–ª–∏—Ç–µ–ª—å–Ω–æ–µ —Å–∫—Ä—ã—Ç–∏–µ - –≤–µ—Ä–æ—è—Ç–Ω–æ AR —Å–µ—Å—Å–∏—è");
            showExitModal();
          }

          pageHiddenTime = null;
        }
      });

      // –§—É–Ω–∫—Ü–∏—è —Å–±—Ä–æ—Å–∞ –∫ –Ω–∞—á–∞–ª—å–Ω–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é
      let lastClickTime = 0;
      cameraWrapper.addEventListener("dblclick", () => {
        filters.forEach((filter) => {
          filter.classList.remove("active", "melting");
        });
        filters[0].classList.add("active");
        currentFilterIndex = 0;
        currentFilterText.textContent = `–§–∏–ª—å—Ç—Ä: ${filterNames[0]}`;
        currentFilterText.style.color = "#4fc3f7";

        iceCrack.classList.remove("active");
        snowflakes.classList.remove("active");
        loadingProgress.classList.remove("active");
        loadingProgressBar.style.width = "0%";

        // –°–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–µ–ª—å –∏ –∫–Ω–æ–ø–∫—É AR
        modelViewer.classList.remove("visible", "interactive");

        filterClickArea.classList.remove("disabled");
        modelUnlockedMessage.style.display = "none";

        // –°–∫—Ä—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –µ—Å–ª–∏ –æ–Ω–æ –≤–∏–¥–Ω–æ
        autoArNotification.classList.remove("show");
        autoArTriggered = false;
        isMelting = false;

        console.log("–°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–±—Ä–æ—à–µ–Ω–æ –∫ –Ω–∞—á–∞–ª—å–Ω–æ–º—É");
      });

      // –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: –∫–Ω–æ–ø–∫–∞ –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–∫–∞–∑–∞ –º–æ–¥–∞–ª–∫–∏
      document.addEventListener("keydown", (e) => {
        if (e.key === "m" && e.ctrlKey) {
          console.log("–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–æ–∫–∞–∑ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ (Ctrl+M)");
          showExitModal();
        }
        // –¢–µ—Å—Ç–æ–≤–∞—è –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –¥–ª—è –∞–≤—Ç–æ-AR
        if (e.key === "a" && e.ctrlKey && e.shiftKey) {
          console.log("–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è –∞–≤—Ç–æ-AR (Ctrl+Shift+A)");
          startMeltingEffect();
        }
      });

      // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: —Å–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–µ–ª—å –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
      window.addEventListener("load", () => {
        console.log("–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞, –º–æ–¥–µ–ª—å —Å–∫—Ä—ã—Ç–∞");
        // –ú–æ–¥–µ–ª—å —É–∂–µ —Å–∫—Ä—ã—Ç–∞ —á–µ—Ä–µ–∑ CSS opacity: 0
      });
    </script>
  </body>
</html>
